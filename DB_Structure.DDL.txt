USE [SHOPBRIDGE]
GO


SET ANSI_NULLS ON
GO


SET QUOTED_IDENTIFIER ON
GO


CREATE TABLE [dbo].[INVENTORY](
	[ITEMID] [int] NOT NULL,
	[ITEMNAME] [varchar](100) NOT NULL,
	[ITEMDESCRIPTION] [varchar](1024) NOT NULL,
	[ITEMPRICE] [int] NOT NULL,
	[ITEMQUANTITY] [int] NOT NULL,
	[ITEMADDDATE] [date] NOT NULL,
 CONSTRAINT [PK_INVENTORY] PRIMARY KEY CLUSTERED 
(
	[ITEMID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO


CREATE PROCEDURE [dbo].[spAddItem]          	
		@p_ITEMNAME varchar(50),
		@p_ITEMDESCRIPTION varchar(1024),		
		@p_ITEMPRICE int,		
		@p_ITEMQUANTITY int
AS
BEGIN 

     SET NOCOUNT ON 

     INSERT INTO [dbo].INVENTORY VALUES (NEXT VALUE FOR [dbo].ITEMID, @p_ITEMNAME, @p_ITEMDESCRIPTION, @p_ITEMPRICE, @p_ITEMQUANTITY, CURRENT_TIMESTAMP);
END 


CREATE PROCEDURE [dbo].[spDeleteItem]  
		@p_ITEMID int		
AS
BEGIN 

     SET NOCOUNT ON 

     DELETE FROM [dbo].INVENTORY WHERE ITEMID = @p_ITEMID;
END 


ALTER PROCEDURE [dbo].[spSelectItemsAll]  		
AS
BEGIN 

     SET NOCOUNT ON 

     SELECT * FROM [dbo].INVENTORY;
END 


CREATE PROCEDURE [dbo].[spSelectItemsOne]  		
@p_ITEMID int
AS
BEGIN 

     SET NOCOUNT ON 

     SELECT * FROM [dbo].INVENTORY WHERE ITEMID = @p_ITEMID;
END 


CREATE PROCEDURE [dbo].[spUpdateItem]  
		@p_ITEMID int,
		@p_ITEMNAME varchar(50),
		@p_ITEMDESCRIPTION varchar(1024),		
		@p_ITEMPRICE int,		
		@p_ITEMQUANTITY int
AS
BEGIN 

     SET NOCOUNT ON 

     UPDATE [dbo].INVENTORY SET 	 
	 ITEMNAME = @p_ITEMNAME, 
	 ITEMDESCRIPTION = @p_ITEMDESCRIPTION, 
	 ITEMPRICE = @p_ITEMPRICE, 
	 ITEMQUANTITY = @p_ITEMQUANTITY
	 WHERE ITEMID = @p_ITEMID;
END 


CREATE SEQUENCE [dbo].[ITEMID] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE -9223372036854775808
 MAXVALUE 9223372036854775807
 CACHE 
GO